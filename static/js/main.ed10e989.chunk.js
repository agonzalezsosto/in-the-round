(this["webpackJsonpin-the-round"]=this["webpackJsonpin-the-round"]||[]).push([[0],{15:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var i,o=n(0),s=n.n(o),a=n(8),r=n.n(a),c=n(9),d=n(1);!function(e){e.LANDING_PAGE="",e.SUBMISSION_PAGE="submission-page"}(i||(i={}));var l,u=n(10),h=n.p+"static/media/logo.62caf20e.png",f=n.p+"static/media/insta.f86cd1b7.png",p=n.p+"static/media/twitter.00f03278.png",m=n.p+"static/media/nx.7bc7601e.png";n(15);!function(e){e.LANDING_HEADER="In The Round Seed Collection",e.LANDING_SUBTITLE="An NX Records vinyl release created by a new sound community",e.LANDING_DESCRIPTION="Submit audio seeds to our sonic allotment",e.ENTER_TEXT="Enter",e.DESCRIPTION_OBJECT="When hovering over an audio object: \n\n",e.DESCRIPTION_DELAY="Press 'd' to control delay \n",e.DESCRIPTION_REVERB="Press 'r' to control reverb\n",e.DESCRIPTION_PLAYBACK="Press 'a' to control playback speed\n",e.DESCRIPTION_LOOP="Press 'l' to loop\n",e.DESCRIPTION_DELETE="Press 'x' to delete an object\n",e.DESCRIPTION_RESET="Press 'o' to return to defaults\n\n\n",e.DESCRIPTION_GENERAL="When hovering anywhere over the browser: \n",e.DESCRIPTION_WANDER="Press 'w' to let the objects wander around\n",e.DESCRIPTION_HIDE="Press 'h' to show/hide these instructions",e.DISCLAIMER="Please stick to one sound source per seed. By pressing enter, you agree that all sounds belong to you, and can be used in the release. If you would like to be credited, please include your name in the file name. Info, such as key signature, BPM, or additional suggestions, can also be included in the file name.",e.DISCLAIMERB="Artists retain all their rights to any work submitted."}(l||(l={}));var b,E=n(2),O=function(){var e=Object(d.g)(),t=s.a.useState(window.innerWidth),n=Object(u.a)(t,2),i=n[0],o=n[1],a=function(){o(window.innerWidth)},r=i<800;s.a.useEffect((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}));return Object(E.jsxs)("div",{className:"landing-container",children:[Object(E.jsx)("img",{src:h,alt:"",className:"landing-image",style:{zIndex:0}}),Object(E.jsx)("div",{className:"landing-description",style:{zIndex:1},children:l.LANDING_SUBTITLE}),Object(E.jsx)("div",{className:"landing-description",style:{zIndex:1},children:l.LANDING_DESCRIPTION}),r?Object(E.jsx)("div",{className:"landing-disclaimer",children:"Please visit this page from a computer to submit seeds."}):Object(E.jsx)("button",{className:"landing-button",onClick:function(){e("submission-page")},children:l.ENTER_TEXT}),Object(E.jsx)("div",{className:"landing-disclaimer",children:"Please stick to one sound source per seed, each under 30 seconds."}),Object(E.jsx)("div",{className:"landing-disclaimer",children:"By pressing enter, you agree that all sounds belong to you, and can be used in the release. If you would like to be credited, please include your name in the file name."}),Object(E.jsx)("div",{className:"landing-disclaimer",children:"Info, such as key signature, BPM, or additional suggestions, can also be included in the file name."}),Object(E.jsxs)("div",{className:"landing-disclaimer",children:["Submissions can also be sent to ",Object(E.jsx)("b",{children:"intheround@nxrecords.co.uk"}),". Submissions will be accepted until April 2, 2021."]}),Object(E.jsx)("div",{className:"landing-disclaimer",children:l.DISCLAIMERB}),Object(E.jsxs)("div",{className:"landing-footer",children:[Object(E.jsx)("a",{href:"https://www.nxrecords.co.uk/",target:"_blank",rel:"noreferrer",children:Object(E.jsx)("img",{src:m,alt:"",width:50,style:{paddingRight:10}})}),Object(E.jsx)("a",{href:"https://www.instagram.com/nxrecords/",target:"_blank",rel:"noreferrer",children:Object(E.jsx)("img",{src:f,alt:"",width:30,style:{paddingRight:10}})}),Object(E.jsx)("a",{href:"https://twitter.com/NXRecords",target:"_blank",rel:"noreferrer",children:Object(E.jsx)("img",{src:p,alt:"",width:30})})]})]})},g=n(3),S=n.n(g),I=(n(6),function(e,t){var n,i=t,o=!1,s=e.createVector(e.mouseX,e.mouseY),a=(n=i.data,e.loadSound(n)),r=new S.a.Delay;r.process(a,.15,.8,5e3),r.setType(1),r.amp(0);var c=new S.a.Reverb;c.process(a,3,2),c.amp(0);var d=e.random(1e3),l="OFF",u=function(){return e.mouseX>s.x-50&&e.mouseX<s.x+50&&e.mouseY>s.y-50&&e.mouseY<s.y+50},h=function(){r.amp(0),c.amp(0),a.rate(1)},f=function(){switch(l){case"DELAY":r.feedback(e.map(s.x,0,e.width,0,.98)),r.delayTime(e.map(s.y,0,e.height,.01,.5)),r.amp(1);break;case"RVB":c.amp(e.map(s.y,0,e.height,0,1));break;case"AUDIO":a.rate(e.map(s.x,0,e.width,.1,2));break;case"OFF":h()}},p=function(){s.x+=e.map(e.noise(e.frameCount/100+d),0,1,-4,4),s.y+=e.map(e.noise(e.frameCount/100+10+d),0,1,-4,4),s.x<0&&(s.x=e.width),s.x>e.width&&(s.x=0),s.y<0&&(s.y=e.height),s.y>e.height&&(s.y=0)};return{draw:function(t){switch(t&&(p(),f()),a.isPlaying()?(e.strokeWeight(3),e.stroke(200,50,100)):(e.strokeWeight(1),e.stroke(0)),l){case"DELAY":e.fill(255,100,100);break;case"RVB":e.fill(100,255,100);break;case"AUDIO":e.fill(100,100,255);break;case"OFF":default:e.fill(255)}e.circle(s.x,s.y,100)},doubleClicked:function(){u()&&(a.isPlaying()?a.pause():a.play(),c.set(e.map(s.x,0,e.width,1,4),2))},mouseDragged:function(){o&&(s.x=e.mouseX,s.y=e.mouseY,f())},setState:function(e){u()&&(o=e)},keyPressed:function(){if(u())switch(e.key){case"l":a.isLooping()?(a.stop(),a.setLoop(!1)):(a.play(),a.setLoop(!0));break;case"d":l="DELAY";break;case"r":l="RVB";break;case"a":l="AUDIO";break;case"o":l="OFF",a.setLoop(!1),h()}},getFileObject:function(){return i},destroy:function(){a.stop()},mouseIsOverShape:u}}),x=function(e,t){var n=!1,i=e.createVector(e.random(e.width),e.random(e.height)),o=new S.a.Delay;o.process(t,.15,.8,5e3),o.setType(1),o.amp(0);var s=new S.a.Reverb;s.process(t,3,2),s.amp(0);var a=e.random(1e3),r="OFF",c=function(){return e.mouseX>i.x-50&&e.mouseX<i.x+50&&e.mouseY>i.y-50&&e.mouseY<i.y+50},d=function(){o.amp(0),s.amp(0),t.rate(1)},l=function(){switch(r){case"DELAY":o.feedback(e.map(i.x,0,e.width,0,.98)),o.delayTime(e.map(i.y,0,e.height,.01,.5)),o.amp(1);break;case"RVB":s.amp(e.map(i.y,0,e.height,0,1));break;case"AUDIO":t.rate(e.map(i.x,0,e.width,.1,2));break;case"OFF":d()}},u=function(){i.x+=e.map(e.noise(e.frameCount/100+a),0,1,-4,4),i.y+=e.map(e.noise(e.frameCount/100+10+a),0,1,-4,4),i.x<0&&(i.x=e.width),i.x>e.width&&(i.x=0),i.y<0&&(i.y=e.height),i.y>e.height&&(i.y=0)};return{draw:function(n){switch(n&&(u(),l()),t.isPlaying()?(e.strokeWeight(3),e.stroke(200,50,100)):(e.strokeWeight(1),e.stroke(0)),r){case"DELAY":e.fill(255,100,100);break;case"RVB":e.fill(100,255,100);break;case"AUDIO":e.fill(100,100,255);break;case"OFF":default:e.fill(255)}e.circle(i.x,i.y,100)},doubleClicked:function(){c()&&(t.isPlaying()?t.pause():t.play(),s.set(e.map(i.x,0,e.width,1,4),2))},mouseDragged:function(){n&&(i.x=e.mouseX,i.y=e.mouseY,l())},setState:function(e){c()&&(n=e)},keyPressed:function(){if(c())switch(e.key){case"l":t.isLooping()?(t.stop(),t.setLoop(!1)):(t.play(),t.setLoop(!0));break;case"d":r="DELAY";break;case"r":r="RVB";break;case"a":r="AUDIO";break;case"o":r="OFF",t.setLoop(!1),d()}},destroy:function(){t.stop()},mouseIsOverShape:c}},y=[],_=[],R=!1,T=!1,w=!1,v=!1,D=function(){var e=new XMLHttpRequest,t=new XMLHttpRequest;new XMLHttpRequest;w=!0,e.onload=function(){var n=JSON.parse(e.response),i=n.entries[Math.floor(S.a.prototype.random(1,n.entries.length))];t.onload=function(){var e,n=JSON.parse(t.response).link,i=(e=n,b.loadSound(e));_.push(x(b,i)),w=!1},t.open("POST","https://api.dropboxapi.com/2/files/get_temporary_link"),t.setRequestHeader("Authorization","Bearer "+Object({NODE_ENV:"production",PUBLIC_URL:"/in-the-round",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DROPBOX_KEY),t.setRequestHeader("Content-Type","application/json"),t.send('{"path": "'.concat(i.path_lower,'"}'))},e.open("POST","https://api.dropboxapi.com/2/files/list_folder"),e.setRequestHeader("Authorization","Bearer "+Object({NODE_ENV:"production",PUBLIC_URL:"/in-the-round",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DROPBOX_KEY),e.setRequestHeader("Content-Type","application/json"),e.send('{\n    "path": "",\n    "recursive": false,\n    "include_media_info": false,\n    "include_deleted": false,\n    "include_has_explicit_shared_members": false,\n    "include_mounted_folders": true,\n    "include_non_downloadable_files": true\n}')},P=function(){y.length>0?(R=!0,y.forEach((function(e){var t=new XMLHttpRequest,n=new XMLHttpRequest,i=e.getFileObject();t.responseType="blob",t.onload=function(){var e=t.response;n.onload=function(){if(200===n.status)y.forEach((function(e){return e.destroy()})),R=!1,y=[];else{var e=n.response;console.error(e),R=!1,y=[]}T=!0,setTimeout((function(){T=!1}),2e3)},n.open("POST","https://content.dropboxapi.com/2/files/upload"),n.setRequestHeader("Authorization","Bearer "+Object({NODE_ENV:"production",PUBLIC_URL:"/in-the-round",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DROPBOX_KEY),n.setRequestHeader("Content-Type","application/octet-stream"),n.setRequestHeader("Dropbox-API-Arg",JSON.stringify({path:"/"+i.name,mode:"add",autorename:!0,mute:!1})),n.send(e)},t.open("GET",i.data),t.send()}))):(v=!0,setTimeout((function(){v=!1}),2e3))},j=function(e){b=e;var t=!0,n=!1,i=!1,o="",s=[];e.setup=function(){var t=document.getElementById("submission-canvas"),n=null===t||void 0===t?void 0:t.offsetWidth,i=null===t||void 0===t?void 0:t.offsetHeight,o=e.createCanvas(n,i);o.parent("submission-canvas"),o.drop(a),e.textFont("Lato"),e.colorMode(e.HSB,255);for(var r=0;r<10;r++){s[r]=[];for(var c=0;c<10;c++){var d=e.noise(r/10,c/10);s[r][c]=d}}},e.draw=function(){e.background(255);for(var a=e.width/10,r=e.height/10,c=0;c<10;c++)for(var d=0;d<10;d++){var u=e.noise(c/10,d/10,e.frameCount/500);s[c][d]=u;var h=s[c][d],f=s[d][c];e.stroke((255*h+e.frameCount)%255,255*f,200),e.fill((255*h+e.frameCount)%255,255*f,200),e.rect(c*a,d*r,a,r)}e.strokeWeight(.5),e.fill(0),e.textAlign(e.CENTER),e.textSize(30),e.text("drop files",e.width/2,e.height/2),t&&(e.textSize(18),e.textAlign(e.LEFT),e.text(l.DESCRIPTION_OBJECT+l.DESCRIPTION_DELAY+l.DESCRIPTION_REVERB+l.DESCRIPTION_PLAYBACK+l.DESCRIPTION_LOOP+l.DESCRIPTION_DELETE+l.DESCRIPTION_RESET+l.DESCRIPTION_GENERAL+l.DESCRIPTION_WANDER+l.DESCRIPTION_HIDE,5,25)),y.forEach((function(e){return e.draw(n)})),_.forEach((function(e){return e.draw(n)})),R&&(e.fill(20,200),e.rect(0,0,e.width,e.height),e.fill(255,255),e.stroke(255,255),e.textSize(30),e.textAlign("center"),e.text("loading...",e.width/2,e.height/2)),i&&(e.fill(20,200),e.rect(0,0,e.width,e.height),e.fill(255,255),e.stroke(255,255),e.textSize(30),e.textAlign("center"),e.text(o,e.width/2,e.height/2)),T&&(e.fill(20,200),e.rect(0,0,e.width,e.height),e.fill(255,255),e.stroke(255,255),e.textSize(30),e.textAlign("center"),e.text("Thank you for your contribution!",e.width/2,e.height/2)),w&&(e.fill(20,200),e.rect(0,0,e.width,e.height),e.fill(255,255),e.stroke(255,255),e.textSize(30),e.textAlign("center"),e.text("fetching random seed...",e.width/2,e.height/2)),v&&(e.fill(20,200),e.rect(0,0,e.width,e.height),e.fill(255,255),e.stroke(255,255),e.textSize(30),e.textAlign("center"),e.text("please try again",e.width/2,e.height/2))},e.doubleClicked=function(){y.forEach((function(e){return e.doubleClicked()}))},e.mousePressed=function(){y.forEach((function(e){return e.setState(!0)})),_.forEach((function(e){return e.setState(!0)}))},e.mouseReleased=function(){y.forEach((function(e){return e.setState(!1)})),_.forEach((function(e){return e.setState(!1)}))},e.mouseDragged=function(){y.forEach((function(e){return e.mouseDragged()})),_.forEach((function(e){return e.mouseDragged()}))},e.keyPressed=function(){if("h"===e.key&&(t=!t),"w"===e.key&&(n=!n),"x"===e.key){var i=y.find((function(e){return e.mouseIsOverShape()}));null===i||void 0===i||i.destroy(),y=y.filter((function(e){return!e.mouseIsOverShape()}));var o=_.find((function(e){return e.mouseIsOverShape()}));null===o||void 0===o||o.destroy(),_=_.filter((function(e){return!e.mouseIsOverShape()}))}y.forEach((function(e){return e.keyPressed()})),_.forEach((function(e){return e.keyPressed()}))};var a=function(t){"audio"===t.type?t.size<1e7?y.push(I(e,t)):(o="please insert a smaller file",i=!0,setTimeout((function(){i=!1}),2e3)):(o="please only insert audio files",i=!0,setTimeout((function(){i=!1}),2e3))}},k=function(){return Object(o.useEffect)((function(){new S.a(j)})),Object(E.jsxs)("div",{id:"submission-canvas",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[Object(E.jsx)("button",{id:"create-button",className:"submit-button",onClick:P,children:"Submit Files"}),Object(E.jsx)("button",{id:"a-button",className:"random-seed-button",onClick:D,children:"Get Random Files"})]})},N=function(){return Object(E.jsx)(c.a,{children:Object(E.jsxs)(d.c,{children:[Object(E.jsx)(d.a,{path:i.LANDING_PAGE,element:Object(E.jsx)(O,{})}),Object(E.jsx)(d.a,{path:i.SUBMISSION_PAGE,element:Object(E.jsx)(k,{})})]})})};r.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(N,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.ed10e989.chunk.js.map